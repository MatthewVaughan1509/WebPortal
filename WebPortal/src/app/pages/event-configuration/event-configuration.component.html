<div class="header">
  <div class="dx-fieldset-header">{{name}}</div>
</div>

<app-region-plant-search (changePlant)="changePlant($event)"></app-region-plant-search>

<dx-data-grid *ngIf="isGridVisible" width="100%" id="dataGrid" [dataSource]="dataSource" [allowColumnResizing]="true"
  [allowColumnReordering]="true" [focusedRowEnabled]="true" keyExpr="Id" [columnAutoWidth]="true" [showBorders]="true">

  <dxo-paging [enabled]="true" [pageSize]="50"></dxo-paging>
  <dxo-header-filter [visible]="true"></dxo-header-filter>
  <dxo-group-panel [visible]="true"></dxo-group-panel>
  <dxo-grouping #expand [autoExpandAll]="true"></dxo-grouping>
  <dxo-search-panel [visible]="true"></dxo-search-panel>
  <dxo-sorting mode="multiple"></dxo-sorting>
  <dxo-filter-panel [visible]="true"></dxo-filter-panel>

  <dxo-editing mode="row" [allowUpdating]="hasEditPermission" [allowDeleting]="false" [allowAdding]="hasAddPermission"
    [useIcons]="true">
  </dxo-editing>

  <dxo-toolbar>
    <dxi-item location="after">
      <div *dxTemplate>
        <dx-button icon="refresh" (onClick)="getData()">
        </dx-button>
      </div>
    </dxi-item>
    <dxi-item location="after">
      <div *dxTemplate>
        <dx-button icon="plus" (onClick)="addIconClick()" [visible]="hasAddPermission">
        </dx-button>
      </div>
    </dxi-item>
    <dxi-item name="exportButton" (onClick)="onExporting($event)"></dxi-item>
    <dxi-item name="searchPanel"></dxi-item>
  </dxo-toolbar>

  <dxi-column dataField="Name"></dxi-column>
  <dxi-column dataField="EventCategoryName"></dxi-column>
  <dxi-column dataField="EquipmentTagName"></dxi-column>
  <dxi-column dataField="InsertedBy" [allowEditing]="false"></dxi-column>
  <dxi-column dataField="InsertedOn" [allowEditing]="false" dataType="date" format="yyyy-MM-dd HH:mm:ss" width="150px">
  </dxi-column>
  <dxi-column dataField="ModifiedBy" [allowEditing]="false"></dxi-column>
  <dxi-column dataField="ModifiedOn" [allowEditing]="false" dataType="date" format="yyyy-MM-dd HH:mm:ss" width="150px">
  </dxi-column>

  <dxi-column type="buttons" [width]="60">
    <dxi-button name="edit" icon="edit" [onClick]="editIconClick"></dxi-button>
    <dxi-button name="delete" icon="trash"></dxi-button>
  </dxi-column>

</dx-data-grid>